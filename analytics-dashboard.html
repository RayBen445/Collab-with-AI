<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Analytics Dashboard - CollabAI</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f8fafc;
            min-height: 100vh;
            padding: 20px;
        }
        
        .analytics-container {
            max-width: 1600px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        .analytics-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .header-content h1 {
            font-size: 2.5rem;
            margin-bottom: 5px;
        }
        
        .header-content p {
            opacity: 0.9;
            font-size: 1.1rem;
        }
        
        .header-actions {
            display: flex;
            gap: 15px;
        }
        
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-outline {
            background: transparent;
            border: 2px solid white;
            color: white;
        }
        
        .btn-outline:hover {
            background: white;
            color: #667eea;
        }
        
        .btn-primary {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 2px solid transparent;
        }
        
        .btn-primary:hover {
            background: white;
            color: #667eea;
        }
        
        .analytics-nav {
            padding: 0 40px;
            background: #f8fafc;
            border-bottom: 1px solid #e2e8f0;
            display: flex;
            gap: 30px;
        }
        
        .nav-tab {
            padding: 20px 0;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            font-weight: 500;
            color: #64748b;
            transition: all 0.3s ease;
        }
        
        .nav-tab.active {
            color: #667eea;
            border-bottom-color: #667eea;
        }
        
        .nav-tab:hover {
            color: #667eea;
        }
        
        .analytics-content {
            padding: 40px;
        }
        
        .overview-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }
        
        .stat-card {
            background: white;
            border-radius: 16px;
            padding: 25px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            border: 1px solid #e2e8f0;
            position: relative;
            overflow: hidden;
        }
        
        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(135deg, #667eea, #764ba2);
        }
        
        .stat-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }
        
        .stat-icon {
            font-size: 2rem;
            opacity: 0.8;
        }
        
        .stat-trend {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.8rem;
            padding: 4px 8px;
            border-radius: 12px;
            font-weight: 500;
        }
        
        .trend-up {
            background: #dcfce7;
            color: #166534;
        }
        
        .trend-down {
            background: #fee2e2;
            color: #991b1b;
        }
        
        .stat-value {
            font-size: 2.5rem;
            font-weight: bold;
            color: #1e293b;
            margin-bottom: 8px;
        }
        
        .stat-label {
            color: #64748b;
            font-size: 0.9rem;
            margin-bottom: 15px;
        }
        
        .stat-progress {
            background: #f1f5f9;
            border-radius: 10px;
            height: 8px;
            overflow: hidden;
        }
        
        .stat-progress-bar {
            height: 100%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 10px;
            transition: width 0.8s ease;
        }
        
        .chart-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }
        
        .chart-container {
            background: white;
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            border: 1px solid #e2e8f0;
        }
        
        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }
        
        .chart-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: #1e293b;
        }
        
        .chart-controls {
            display: flex;
            gap: 10px;
        }
        
        .chart-btn {
            padding: 6px 12px;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            background: white;
            cursor: pointer;
            font-size: 0.8rem;
            color: #64748b;
            transition: all 0.2s;
        }
        
        .chart-btn.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }
        
        .chart-placeholder {
            width: 100%;
            height: 300px;
            background: linear-gradient(135deg, #f8fafc, #e2e8f0);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #64748b;
            font-size: 1.1rem;
            position: relative;
            overflow: hidden;
        }
        
        .chart-placeholder::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.8), transparent);
            animation: shimmer 2s infinite;
        }
        
        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }
        
        .insights-section {
            background: white;
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            border: 1px solid #e2e8f0;
            margin-bottom: 30px;
        }
        
        .insights-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }
        
        .insights-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: #1e293b;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .ai-indicator {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 0.7rem;
            text-transform: uppercase;
            font-weight: 600;
        }
        
        .insights-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
        }
        
        .insight-card {
            background: #f8fafc;
            border-radius: 12px;
            padding: 20px;
            border-left: 4px solid #667eea;
            position: relative;
        }
        
        .insight-card.critical {
            border-left-color: #dc2626;
            background: #fef2f2;
        }
        
        .insight-card.positive {
            border-left-color: #059669;
            background: #f0fdf4;
        }
        
        .insight-card.warning {
            border-left-color: #d97706;
            background: #fffbeb;
        }
        
        .insight-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 12px;
        }
        
        .insight-type {
            font-size: 0.7rem;
            text-transform: uppercase;
            font-weight: 600;
            opacity: 0.7;
        }
        
        .insight-confidence {
            background: rgba(102, 126, 234, 0.1);
            color: #667eea;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.7rem;
            font-weight: 500;
        }
        
        .insight-title {
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 8px;
        }
        
        .insight-description {
            color: #64748b;
            font-size: 0.9rem;
            line-height: 1.5;
            margin-bottom: 15px;
        }
        
        .insight-actions {
            display: flex;
            gap: 8px;
        }
        
        .insight-btn {
            padding: 6px 12px;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            background: white;
            cursor: pointer;
            font-size: 0.8rem;
            color: #64748b;
            transition: all 0.2s;
        }
        
        .insight-btn.primary {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }
        
        .insight-btn:hover {
            background: #f1f5f9;
        }
        
        .insight-btn.primary:hover {
            background: #5a67d8;
        }
        
        .team-performance {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .team-member {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            border: 1px solid #e2e8f0;
            text-align: center;
        }
        
        .member-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1.2rem;
            margin: 0 auto 15px;
        }
        
        .member-avatar.ai {
            background: linear-gradient(135deg, #dc2626, #b91c1c);
        }
        
        .member-name {
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 8px;
        }
        
        .member-role {
            color: #64748b;
            font-size: 0.8rem;
            margin-bottom: 15px;
        }
        
        .member-stats {
            display: flex;
            justify-content: space-around;
            margin-bottom: 15px;
        }
        
        .member-stat {
            text-align: center;
        }
        
        .member-stat-value {
            font-weight: bold;
            color: #667eea;
            display: block;
        }
        
        .member-stat-label {
            font-size: 0.7rem;
            color: #64748b;
            margin-top: 2px;
        }
        
        .member-score {
            background: #f1f5f9;
            border-radius: 8px;
            padding: 8px;
            font-size: 0.8rem;
            color: #64748b;
        }
        
        .real-time-feed {
            background: white;
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            border: 1px solid #e2e8f0;
            max-height: 400px;
            overflow-y: auto;
        }
        
        .feed-item {
            display: flex;
            align-items: flex-start;
            gap: 15px;
            padding: 15px 0;
            border-bottom: 1px solid #f1f5f9;
        }
        
        .feed-item:last-child {
            border-bottom: none;
        }
        
        .feed-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1rem;
            flex-shrink: 0;
        }
        
        .feed-content {
            flex: 1;
        }
        
        .feed-text {
            color: #1e293b;
            margin-bottom: 5px;
            line-height: 1.4;
        }
        
        .feed-time {
            color: #64748b;
            font-size: 0.8rem;
        }
        
        .export-section {
            background: #f8fafc;
            border-radius: 16px;
            padding: 30px;
            text-align: center;
            border: 2px dashed #e2e8f0;
        }
        
        .export-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 10px;
        }
        
        .export-description {
            color: #64748b;
            margin-bottom: 25px;
        }
        
        .export-options {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .export-btn {
            padding: 12px 24px;
            border: 2px solid #667eea;
            border-radius: 8px;
            background: white;
            color: #667eea;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .export-btn:hover {
            background: #667eea;
            color: white;
        }
        
        @media (max-width: 768px) {
            .analytics-container {
                margin: 0;
                border-radius: 0;
            }
            
            .analytics-header {
                padding: 20px;
                flex-direction: column;
                text-align: center;
                gap: 15px;
            }
            
            .header-content h1 {
                font-size: 2rem;
            }
            
            .analytics-nav {
                padding: 0 20px;
                overflow-x: auto;
            }
            
            .analytics-content {
                padding: 20px;
            }
            
            .overview-grid {
                grid-template-columns: 1fr;
            }
            
            .chart-grid {
                grid-template-columns: 1fr;
            }
            
            .insights-grid {
                grid-template-columns: 1fr;
            }
            
            .team-performance {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .export-options {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>
    <div class="analytics-container">
        <!-- Header -->
        <div class="analytics-header">
            <div class="header-content">
                <h1>📊 AI Analytics Dashboard</h1>
                <p>Comprehensive insights powered by artificial intelligence</p>
            </div>
            <div class="header-actions">
                <button class="btn btn-outline" onclick="refreshData()">
                    🔄 Refresh
                </button>
                <button class="btn btn-primary" onclick="generateReport()">
                    📄 Generate Report
                </button>
            </div>
        </div>
        
        <!-- Navigation -->
        <div class="analytics-nav">
            <div class="nav-tab active" onclick="switchTab('overview')">Overview</div>
            <div class="nav-tab" onclick="switchTab('performance')">Team Performance</div>
            <div class="nav-tab" onclick="switchTab('projects')">Project Analytics</div>
            <div class="nav-tab" onclick="switchTab('ai-insights')">AI Insights</div>
            <div class="nav-tab" onclick="switchTab('trends')">Trends</div>
        </div>
        
        <!-- Content -->
        <div class="analytics-content">
            <!-- Overview Section -->
            <div id="overview-section" class="section">
                <!-- Key Metrics -->
                <div class="overview-grid">
                    <div class="stat-card">
                        <div class="stat-header">
                            <div class="stat-icon">👥</div>
                            <div class="stat-trend trend-up">
                                ↗ +15%
                            </div>
                        </div>
                        <div class="stat-value">247</div>
                        <div class="stat-label">Active Users</div>
                        <div class="stat-progress">
                            <div class="stat-progress-bar" style="width: 78%;"></div>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-header">
                            <div class="stat-icon">🎯</div>
                            <div class="stat-trend trend-up">
                                ↗ +23%
                            </div>
                        </div>
                        <div class="stat-value">89%</div>
                        <div class="stat-label">Task Completion Rate</div>
                        <div class="stat-progress">
                            <div class="stat-progress-bar" style="width: 89%;"></div>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-header">
                            <div class="stat-icon">🤖</div>
                            <div class="stat-trend trend-up">
                                ↗ +45%
                            </div>
                        </div>
                        <div class="stat-value">67%</div>
                        <div class="stat-label">AI Assistance Usage</div>
                        <div class="stat-progress">
                            <div class="stat-progress-bar" style="width: 67%;"></div>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-header">
                            <div class="stat-icon">⚡</div>
                            <div class="stat-trend trend-up">
                                ↗ +31%
                            </div>
                        </div>
                        <div class="stat-value">4.2h</div>
                        <div class="stat-label">Avg. Task Duration</div>
                        <div class="stat-progress">
                            <div class="stat-progress-bar" style="width: 65%;"></div>
                        </div>
                    </div>
                </div>
                
                <!-- Charts Grid -->
                <div class="chart-grid">
                    <div class="chart-container">
                        <div class="chart-header">
                            <div class="chart-title">Productivity Trends</div>
                            <div class="chart-controls">
                                <button class="chart-btn active">7D</button>
                                <button class="chart-btn">30D</button>
                                <button class="chart-btn">90D</button>
                            </div>
                        </div>
                        <div class="chart-placeholder">
                            📈 Interactive Line Chart<br>
                            <small>Task completion, AI usage, team collaboration</small>
                        </div>
                    </div>
                    
                    <div class="chart-container">
                        <div class="chart-header">
                            <div class="chart-title">AI Impact</div>
                        </div>
                        <div class="chart-placeholder">
                            🤖 AI Metrics<br>
                            <small>Suggestions accepted, automation savings</small>
                        </div>
                    </div>
                </div>
                
                <!-- AI Insights Section -->
                <div class="insights-section">
                    <div class="insights-header">
                        <div class="insights-title">
                            AI-Powered Insights
                            <span class="ai-indicator">AI Generated</span>
                        </div>
                        <button class="btn btn-outline" onclick="refreshInsights()">
                            🔄 Refresh Insights
                        </button>
                    </div>
                    
                    <div class="insights-grid">
                        <div class="insight-card positive">
                            <div class="insight-header">
                                <div class="insight-type">Performance Boost</div>
                                <div class="insight-confidence">95% confidence</div>
                            </div>
                            <div class="insight-title">Team Productivity Surge</div>
                            <div class="insight-description">
                                AI analysis shows 31% increase in task completion velocity since implementing collaborative features. Real-time editing and smart suggestions are primary drivers.
                            </div>
                            <div class="insight-actions">
                                <button class="insight-btn primary">Apply Recommendations</button>
                                <button class="insight-btn">View Details</button>
                            </div>
                        </div>
                        
                        <div class="insight-card warning">
                            <div class="insight-header">
                                <div class="insight-type">Bottleneck Detection</div>
                                <div class="insight-confidence">87% confidence</div>
                            </div>
                            <div class="insight-title">Communication Delays</div>
                            <div class="insight-description">
                                AI detected 2.3-hour average response time in #development channel. Suggests implementing smart notifications and priority tagging system.
                            </div>
                            <div class="insight-actions">
                                <button class="insight-btn primary">Implement Solution</button>
                                <button class="insight-btn">Analyze Further</button>
                            </div>
                        </div>
                        
                        <div class="insight-card critical">
                            <div class="insight-header">
                                <div class="insight-type">Resource Allocation</div>
                                <div class="insight-confidence">92% confidence</div>
                            </div>
                            <div class="insight-title">AI Workload Opportunity</div>
                            <div class="insight-description">
                                43% of current manual tasks can be automated using AI. Estimated time savings: 18 hours/week. Highest impact areas: code review, documentation, testing.
                            </div>
                            <div class="insight-actions">
                                <button class="insight-btn primary">Start Automation</button>
                                <button class="insight-btn">Show Breakdown</button>
                            </div>
                        </div>
                        
                        <div class="insight-card positive">
                            <div class="insight-header">
                                <div class="insight-type">Collaboration Success</div>
                                <div class="insight-confidence">98% confidence</div>
                            </div>
                            <div class="insight-title">AI-Human Synergy</div>
                            <div class="insight-description">
                                Perfect collaboration score! AI assistance is being used optimally. Team members are accepting 89% of AI suggestions, leading to 40% faster project completion.
                            </div>
                            <div class="insight-actions">
                                <button class="insight-btn primary">Maintain Strategy</button>
                                <button class="insight-btn">Share Success</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Team Performance -->
                <div class="team-performance">
                    <div class="team-member">
                        <div class="member-avatar">JD</div>
                        <div class="member-name">John Developer</div>
                        <div class="member-role">Full Stack Developer</div>
                        <div class="member-stats">
                            <div class="member-stat">
                                <span class="member-stat-value">94%</span>
                                <div class="member-stat-label">Completion</div>
                            </div>
                            <div class="member-stat">
                                <span class="member-stat-value">47</span>
                                <div class="member-stat-label">Tasks</div>
                            </div>
                            <div class="member-stat">
                                <span class="member-stat-value">3.2h</span>
                                <div class="member-stat-label">Avg Time</div>
                            </div>
                        </div>
                        <div class="member-score">🏆 Top Performer</div>
                    </div>
                    
                    <div class="team-member">
                        <div class="member-avatar">SM</div>
                        <div class="member-name">Sarah Manager</div>
                        <div class="member-role">Project Manager</div>
                        <div class="member-stats">
                            <div class="member-stat">
                                <span class="member-stat-value">91%</span>
                                <div class="member-stat-label">Completion</div>
                            </div>
                            <div class="member-stat">
                                <span class="member-stat-value">32</span>
                                <div class="member-stat-label">Tasks</div>
                            </div>
                            <div class="member-stat">
                                <span class="member-stat-value">2.8h</span>
                                <div class="member-stat-label">Avg Time</div>
                            </div>
                        </div>
                        <div class="member-score">📊 Strategic Leader</div>
                    </div>
                    
                    <div class="team-member">
                        <div class="member-avatar">RB</div>
                        <div class="member-name">Ray Ben</div>
                        <div class="member-role">Backend Developer</div>
                        <div class="member-stats">
                            <div class="member-stat">
                                <span class="member-stat-value">87%</span>
                                <div class="member-stat-label">Completion</div>
                            </div>
                            <div class="member-stat">
                                <span class="member-stat-value">29</span>
                                <div class="member-stat-label">Tasks</div>
                            </div>
                            <div class="member-stat">
                                <span class="member-stat-value">4.1h</span>
                                <div class="member-stat-label">Avg Time</div>
                            </div>
                        </div>
                        <div class="member-score">🔧 Technical Expert</div>
                    </div>
                    
                    <div class="team-member">
                        <div class="member-avatar ai">AI</div>
                        <div class="member-name">AI Assistant</div>
                        <div class="member-role">Artificial Intelligence</div>
                        <div class="member-stats">
                            <div class="member-stat">
                                <span class="member-stat-value">100%</span>
                                <div class="member-stat-label">Availability</div>
                            </div>
                            <div class="member-stat">
                                <span class="member-stat-value">156</span>
                                <div class="member-stat-label">Assists</div>
                            </div>
                            <div class="member-stat">
                                <span class="member-stat-value">0.3s</span>
                                <div class="member-stat-label">Response</div>
                            </div>
                        </div>
                        <div class="member-score">🤖 AI Powerhouse</div>
                    </div>
                </div>
                
                <!-- Real-time Activity Feed -->
                <div class="real-time-feed">
                    <h3 style="margin-bottom: 20px; color: #1e293b;">🔴 Real-time Activity</h3>
                    
                    <div class="feed-item">
                        <div class="feed-icon">🤖</div>
                        <div class="feed-content">
                            <div class="feed-text">AI detected optimization opportunity in task management workflow</div>
                            <div class="feed-time">2 minutes ago</div>
                        </div>
                    </div>
                    
                    <div class="feed-item">
                        <div class="feed-icon">🎯</div>
                        <div class="feed-content">
                            <div class="feed-text">John Developer completed "Real-time editor conflict resolution" task</div>
                            <div class="feed-time">5 minutes ago</div>
                        </div>
                    </div>
                    
                    <div class="feed-item">
                        <div class="feed-icon">📊</div>
                        <div class="feed-content">
                            <div class="feed-text">Team productivity increased by 12% in the last hour</div>
                            <div class="feed-time">8 minutes ago</div>
                        </div>
                    </div>
                    
                    <div class="feed-item">
                        <div class="feed-icon">🚀</div>
                        <div class="feed-content">
                            <div class="feed-text">AI automated 3 documentation tasks, saving 2.5 hours</div>
                            <div class="feed-time">12 minutes ago</div>
                        </div>
                    </div>
                    
                    <div class="feed-item">
                        <div class="feed-icon">💬</div>
                        <div class="feed-content">
                            <div class="feed-text">Team communication efficiency reached 95% this week</div>
                            <div class="feed-time">15 minutes ago</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Other sections (hidden by default) -->
            <div id="performance-section" class="section" style="display: none;">
                <h2>Team Performance Analytics</h2>
                <p>Detailed performance metrics and insights coming soon...</p>
            </div>
            
            <div id="projects-section" class="section" style="display: none;">
                <h2>Project Analytics</h2>
                <p>Project-specific analytics and timelines coming soon...</p>
            </div>
            
            <div id="ai-insights-section" class="section" style="display: none;">
                <h2>Advanced AI Insights</h2>
                <p>Deep AI analysis and predictions coming soon...</p>
            </div>
            
            <div id="trends-section" class="section" style="display: none;">
                <h2>Trend Analysis</h2>
                <p>Long-term trends and forecasting coming soon...</p>
            </div>
        </div>
        
        <!-- Export Section -->
        <div class="export-section">
            <div class="export-title">📄 Export Analytics</div>
            <div class="export-description">
                Generate comprehensive reports with AI insights and recommendations
            </div>
            <div class="export-options">
                <button class="export-btn" onclick="exportData('pdf')">
                    📄 PDF Report
                </button>
                <button class="export-btn" onclick="exportData('excel')">
                    📊 Excel Spreadsheet
                </button>
                <button class="export-btn" onclick="exportData('json')">
                    💾 Raw Data (JSON)
                </button>
                <button class="export-btn" onclick="exportData('dashboard')">
                    📱 Interactive Dashboard
                </button>
            </div>
        </div>
    </div>
    
    <script>
        // Analytics state management
        const analyticsState = {
            currentTab: 'overview',
            refreshInterval: null,
            realTimeUpdates: true,
            lastUpdate: Date.now(),
            metrics: {
                activeUsers: 247,
                completionRate: 89,
                aiUsage: 67,
                avgTaskDuration: 4.2
            }
        };
        
        // Tab switching
        function switchTab(tabName) {
            // Remove active class from all tabs
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Hide all sections
            document.querySelectorAll('.section').forEach(section => {
                section.style.display = 'none';
            });
            
            // Show selected section
            const targetSection = document.getElementById(tabName + '-section');
            if (targetSection) {
                targetSection.style.display = 'block';
            }
            
            // Add active class to clicked tab
            event.target.classList.add('active');
            
            analyticsState.currentTab = tabName;
            
            // Load section-specific data
            loadSectionData(tabName);
            
            showNotification(`📊 Switched to ${tabName.charAt(0).toUpperCase() + tabName.slice(1)} analytics`);
        }
        
        function loadSectionData(section) {
            switch(section) {
                case 'performance':
                    simulateDataLoad('Loading team performance metrics...');
                    break;
                case 'projects':
                    simulateDataLoad('Analyzing project timelines and deliverables...');
                    break;
                case 'ai-insights':
                    simulateDataLoad('Generating advanced AI insights...');
                    break;
                case 'trends':
                    simulateDataLoad('Computing trend analysis and forecasts...');
                    break;
            }
        }
        
        function simulateDataLoad(message) {
            showNotification(message);
            
            setTimeout(() => {
                showNotification('✅ Data loaded successfully!');
            }, 2000);
        }
        
        // Data refresh functionality
        function refreshData() {
            showNotification('🔄 Refreshing analytics data...');
            
            // Simulate data refresh
            setTimeout(() => {
                updateMetrics();
                updateCharts();
                updateInsights();
                showNotification('✅ Data refreshed successfully!');
            }, 2000);
        }
        
        function updateMetrics() {
            // Simulate metric updates
            const metrics = analyticsState.metrics;
            
            metrics.activeUsers += Math.floor(Math.random() * 10) - 5;
            metrics.completionRate += (Math.random() - 0.5) * 2;
            metrics.aiUsage += (Math.random() - 0.5) * 3;
            metrics.avgTaskDuration += (Math.random() - 0.5) * 0.2;
            
            // Update UI
            document.querySelectorAll('.stat-value').forEach((element, index) => {
                switch(index) {
                    case 0:
                        element.textContent = metrics.activeUsers;
                        break;
                    case 1:
                        element.textContent = Math.round(metrics.completionRate) + '%';
                        break;
                    case 2:
                        element.textContent = Math.round(metrics.aiUsage) + '%';
                        break;
                    case 3:
                        element.textContent = metrics.avgTaskDuration.toFixed(1) + 'h';
                        break;
                }
            });
        }
        
        function updateCharts() {
            // Simulate chart updates with animation
            document.querySelectorAll('.chart-placeholder').forEach(chart => {
                chart.style.opacity = '0.5';
                setTimeout(() => {
                    chart.style.opacity = '1';
                }, 500);
            });
        }
        
        async function updateInsights() {
            try {
                // Get current analytics data for AI analysis
                const analyticsData = {
                    activeUsers: analyticsState.metrics.activeUsers,
                    completionRate: analyticsState.metrics.completionRate,
                    aiUsage: analyticsState.metrics.aiUsage,
                    avgTaskDuration: analyticsState.metrics.avgTaskDuration,
                    projectCount: 235,
                    teamSize: 12
                };
                
                const aiPrompt = `Analyze this project analytics data and provide actionable insights:
                
                Data: ${JSON.stringify(analyticsData)}
                
                Provide insights on:
                1. Optimization opportunities
                2. Performance improvements
                3. Resource allocation
                4. Collaboration efficiency
                
                Format as brief, actionable recommendations for software development teams.`;
                
                const result = await geminiAPI.generateContent(aiPrompt, {
                    temperature: 0.4,
                    maxTokens: 600
                });
                
                // Add the AI insights to real-time feed
                addActivityFeedItem('🤖', `AI generated new insights: ${result.text.substring(0, 50)}...`, 'Just now');
                
            } catch (error) {
                console.error('AI insights error:', error);
                // Fallback to original insights
                const insights = [
                    {
                        type: 'Optimization',
                        title: 'New Efficiency Pattern Detected',
                        description: 'AI discovered that team collaboration peaks at 10 AM and 2 PM. Suggest scheduling important meetings during these windows.',
                        confidence: '94% confidence',
                        cardClass: 'positive'
                    },
                    {
                        type: 'Prediction',
                        title: 'Resource Demand Forecast',
                        description: 'Based on current velocity, project completion expected 3 days ahead of schedule. Consider reassigning resources to next sprint.',
                        confidence: '91% confidence',
                        cardClass: 'warning'
                    },
                    {
                        type: 'Innovation',
                        title: 'AI Learning Breakthrough',
                        description: 'Machine learning model improved by 15% in code suggestion accuracy. Estimated developer productivity boost: 22%.',
                        confidence: '98% confidence',
                        cardClass: 'positive'
                    }
                ];
                
                const randomInsight = insights[Math.floor(Math.random() * insights.length)];
                
                // Add to real-time feed
                addActivityFeedItem('🤖', `New AI insight: ${randomInsight.title}`, 'Just now');
            }
        }
        
        async function refreshInsights() {
            showNotification('🤖 AI is analyzing current data patterns...');
            
            try {
                await updateInsights();
                showNotification('✨ New AI insights generated!');
            } catch (error) {
                console.error('Insights refresh error:', error);
                setTimeout(() => {
                    updateInsights();
                    showNotification('✨ New AI insights generated!');
                }, 3000);
            }
        }
        
        // Report generation
        function generateReport() {
            showNotification('📄 Generating comprehensive analytics report...');
            
            setTimeout(() => {
                const reportData = {
                    timestamp: new Date().toISOString(),
                    metrics: analyticsState.metrics,
                    insights: 'AI-powered insights and recommendations',
                    teamPerformance: 'Detailed team analysis',
                    predictions: 'Future trend predictions'
                };
                
                alert(`📊 Analytics Report Generated!\n\n` +
                      `Report Date: ${new Date().toLocaleDateString()}\n` +
                      `Active Users: ${analyticsState.metrics.activeUsers}\n` +
                      `Task Completion: ${Math.round(analyticsState.metrics.completionRate)}%\n` +
                      `AI Usage: ${Math.round(analyticsState.metrics.aiUsage)}%\n` +
                      `Avg Task Time: ${analyticsState.metrics.avgTaskDuration.toFixed(1)}h\n\n` +
                      `✅ Full report with AI insights ready for download!`);
                
                showNotification('✅ Report generated successfully!');
            }, 3000);
        }
        
        // Export functionality
        function exportData(format) {
            const formatNames = {
                'pdf': 'PDF Report',
                'excel': 'Excel Spreadsheet',
                'json': 'JSON Data',
                'dashboard': 'Interactive Dashboard'
            };
            
            showNotification(`📤 Exporting ${formatNames[format]}...`);
            
            setTimeout(() => {
                const exportData = {
                    format: format,
                    timestamp: new Date().toISOString(),
                    data: analyticsState.metrics,
                    aiInsights: 'Comprehensive AI analysis included',
                    recommendations: 'Actionable recommendations provided'
                };
                
                // Simulate download
                console.log('Export data:', exportData);
                showNotification(`✅ ${formatNames[format]} exported successfully!`);
                
                // Add to activity feed
                addActivityFeedItem('📤', `${formatNames[format]} exported by user`, 'Just now');
            }, 2000);
        }
        
        // Real-time activity feed
        function addActivityFeedItem(icon, text, time) {
            const feed = document.querySelector('.real-time-feed');
            const newItem = document.createElement('div');
            newItem.className = 'feed-item';
            newItem.innerHTML = `
                <div class="feed-icon">${icon}</div>
                <div class="feed-content">
                    <div class="feed-text">${text}</div>
                    <div class="feed-time">${time}</div>
                </div>
            `;
            
            // Add to top of feed
            const firstItem = feed.querySelector('.feed-item');
            if (firstItem) {
                feed.insertBefore(newItem, firstItem);
            } else {
                feed.appendChild(newItem);
            }
            
            // Remove old items (keep max 10)
            const items = feed.querySelectorAll('.feed-item');
            if (items.length > 10) {
                items[items.length - 1].remove();
            }
        }
        
        // Insight actions
        function applyRecommendation(element) {
            const card = element.closest('.insight-card');
            card.style.opacity = '0.6';
            card.style.borderLeftColor = '#059669';
            
            showNotification('✅ AI recommendation applied successfully!');
            
            setTimeout(() => {
                card.style.opacity = '1';
                addActivityFeedItem('🎯', 'AI recommendation implemented', 'Just now');
            }, 1000);
        }
        
        function implementSolution(element) {
            const card = element.closest('.insight-card');
            const title = card.querySelector('.insight-title').textContent;
            
            showNotification(`🚀 Implementing solution for: ${title}`);
            
            setTimeout(() => {
                card.style.background = '#f0fdf4';
                card.style.borderLeftColor = '#059669';
                showNotification('✅ Solution implemented successfully!');
                addActivityFeedItem('⚡', `Solution implemented: ${title}`, 'Just now');
            }, 2500);
        }
        
        // Chart interactions
        function updateChartPeriod(period) {
            document.querySelectorAll('.chart-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            showNotification(`📊 Updated chart view to ${period}`);
            updateCharts();
        }
        
        // Real-time updates
        function startRealTimeUpdates() {
            analyticsState.refreshInterval = setInterval(() => {
                if (analyticsState.realTimeUpdates) {
                    // Simulate random updates
                    if (Math.random() > 0.7) {
                        const activities = [
                            'Task completed by team member',
                            'AI optimization applied',
                            'New collaboration started',
                            'Productivity milestone reached',
                            'AI suggestion accepted',
                            'Code review completed',
                            'Meeting insights generated'
                        ];
                        
                        const randomActivity = activities[Math.floor(Math.random() * activities.length)];
                        addActivityFeedItem('🔔', randomActivity, 'Just now');
                    }
                    
                    // Update metrics slightly
                    if (Math.random() > 0.9) {
                        updateMetrics();
                    }
                }
            }, 10000); // Update every 10 seconds
        }
        
        function stopRealTimeUpdates() {
            if (analyticsState.refreshInterval) {
                clearInterval(analyticsState.refreshInterval);
                analyticsState.refreshInterval = null;
            }
        }
        
        // Utility functions
        function showNotification(message) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: linear-gradient(135deg, #667eea, #764ba2);
                color: white;
                padding: 15px 25px;
                border-radius: 8px;
                z-index: 1000;
                font-size: 0.9rem;
                box-shadow: 0 8px 30px rgba(102, 126, 234, 0.3);
                backdrop-filter: blur(10px);
                max-width: 300px;
            `;
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.opacity = '0';
                notification.style.transform = 'translateX(20px)';
                setTimeout(() => notification.remove(), 300);
            }, 4000);
        }
        
        // Event delegation for insight buttons
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('insight-btn')) {
                if (e.target.textContent.includes('Apply') || e.target.textContent.includes('Implement')) {
                    applyRecommendation(e.target);
                } else if (e.target.textContent.includes('Solution')) {
                    implementSolution(e.target);
                } else if (e.target.textContent.includes('Details') || e.target.textContent.includes('Further')) {
                    showNotification('📊 Opening detailed analysis...');
                }
            }
            
            if (e.target.classList.contains('chart-btn')) {
                updateChartPeriod(e.target.textContent);
            }
        });
        
        // Initialize analytics dashboard
        document.addEventListener('DOMContentLoaded', function() {
            // Start real-time updates
            startRealTimeUpdates();
            
            // Initialize progress bars animation
            setTimeout(() => {
                document.querySelectorAll('.stat-progress-bar').forEach(bar => {
                    const width = bar.style.width;
                    bar.style.width = '0%';
                    setTimeout(() => {
                        bar.style.width = width;
                    }, 100);
                });
            }, 500);
            
            // Add initial activity
            setTimeout(() => {
                addActivityFeedItem('🚀', 'Analytics dashboard initialized with AI insights', 'Just now');
            }, 1000);
            
            console.log('📊 AI Analytics Dashboard initialized');
            console.log('Features: Real-time updates, AI insights, Team performance, Export options');
            
            // Initialize Gemini AI service
            try {
                await geminiAPI.initializeService();
                if (geminiAPI.isInitialized()) {
                    console.log('✅ Gemini AI service initialized for analytics');
                    // Generate initial AI insights
                    setTimeout(updateInsights, 2000);
                } else {
                    console.warn('⚠️ Gemini AI service not available - using fallback analytics');
                }
            } catch (error) {
                console.error('❌ Failed to initialize Gemini AI service:', error);
            }
        });
        
        // Cleanup on page unload
        window.addEventListener('beforeunload', function() {
            stopRealTimeUpdates();
        });
    </script>
    
    <!-- Include Gemini AI Service -->
    <script src="js/gemini-api.js"></script>
    
    <!-- Real-Time Status Bar -->
    <script src="js/status-bar.js"></script>
</body>
</html>